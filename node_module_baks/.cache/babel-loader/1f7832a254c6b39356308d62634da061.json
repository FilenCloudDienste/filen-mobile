{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PositionCache from './PositionCache';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\nvar emptyObject = {};\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * This component efficiently displays arbitrarily positioned cells using windowing techniques.\n * Cell position is determined by an injected `cellPositioner` property.\n * Windowing is vertical; this component does not support horizontal scrolling.\n *\n * Rendering occurs in two phases:\n * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.\n *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.\n *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells\n *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).\n *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.\n * 2) Second pass uses the external `cellPositioner` to layout cells.\n *    At this time the positioner has access to cached size measurements for all cells.\n *    The positions it returns are cached by Masonry for fast access later.\n *    Phase one is repeated if the user scrolls beyond the current layout's bounds.\n *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.\n *\n * Animation constraints:\n *   Simple animations are supported (eg translate/slide into place on initial reveal).\n *   More complex animations are not (eg flying from one position to another on resize).\n *\n * Layout constraints:\n *   This component supports multi-column layout.\n *   The height of each item may vary.\n *   The width of each item must not exceed the width of the column it is \"in\".\n *   The left position of all items within a column must align.\n *   (Items may not span multiple columns.)\n */\n\nvar Masonry = (_temp = _class = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Masonry, _React$PureComponent);\n\n  function Masonry() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Masonry);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Masonry)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStartIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionCache\", new PositionCache());\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingCallback\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      var height = _this.props.height;\n      var eventScrollTop = event.currentTarget.scrollTop; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop); // On iOS, we can arrive at negative offsets by swiping past the start or end.\n      // Avoid re-rendering in this case as it can cause problems; see #532 for more.\n\n      if (eventScrollTop !== scrollTop) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._debounceResetIsScrolling(); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n\n      if (_this.state.scrollTop !== scrollTop) {\n        _this.setState({\n          isScrolling: true,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Masonry, [{\n    key: \"clearCellPositions\",\n    value: function clearCellPositions() {\n      this._positionCache = new PositionCache();\n      this.forceUpdate();\n    } // HACK This method signature was intended for Grid\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref) {\n      var index = _ref.rowIndex;\n\n      if (this._invalidateOnUpdateStartIndex === null) {\n        this._invalidateOnUpdateStartIndex = index;\n        this._invalidateOnUpdateStopIndex = index;\n      } else {\n        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);\n        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);\n      }\n    }\n  }, {\n    key: \"recomputeCellPositions\",\n    value: function recomputeCellPositions() {\n      var stopIndex = this._positionCache.count - 1;\n      this._positionCache = new PositionCache();\n\n      this._populatePositionCache(0, stopIndex);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n\n      if (this.props.scrollTop !== prevProps.scrollTop) {\n        this._debounceResetIsScrolling();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          cellCount = _this$props.cellCount,\n          cellMeasurerCache = _this$props.cellMeasurerCache,\n          cellRenderer = _this$props.cellRenderer,\n          className = _this$props.className,\n          height = _this$props.height,\n          id = _this$props.id,\n          keyMapper = _this$props.keyMapper,\n          overscanByPixels = _this$props.overscanByPixels,\n          role = _this$props.role,\n          style = _this$props.style,\n          tabIndex = _this$props.tabIndex,\n          width = _this$props.width,\n          rowDirection = _this$props.rowDirection;\n      var _this$state = this.state,\n          isScrolling = _this$state.isScrolling,\n          scrollTop = _this$state.scrollTop;\n      var children = [];\n\n      var estimateTotalHeight = this._getEstimatedTotalHeight();\n\n      var shortestColumnSize = this._positionCache.shortestColumnSize;\n      var measuredCellCount = this._positionCache.count;\n      var startIndex = 0;\n      var stopIndex;\n\n      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {\n        var _style;\n\n        if (typeof stopIndex === 'undefined') {\n          startIndex = index;\n          stopIndex = index;\n        } else {\n          startIndex = Math.min(startIndex, index);\n          stopIndex = Math.max(stopIndex, index);\n        }\n\n        children.push(cellRenderer({\n          index: index,\n          isScrolling: isScrolling,\n          key: keyMapper(index),\n          parent: _this2,\n          style: (_style = {\n            height: cellMeasurerCache.getHeight(index)\n          }, _defineProperty(_style, rowDirection === 'ltr' ? 'left' : 'right', left), _defineProperty(_style, \"position\", 'absolute'), _defineProperty(_style, \"top\", top), _defineProperty(_style, \"width\", cellMeasurerCache.getWidth(index)), _style)\n        }));\n      }); // We need to measure additional cells for this layout\n\n\n      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {\n        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));\n\n        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {\n          stopIndex = _index;\n          children.push(cellRenderer({\n            index: _index,\n            isScrolling: isScrolling,\n            key: keyMapper(_index),\n            parent: this,\n            style: {\n              width: cellMeasurerCache.getWidth(_index)\n            }\n          }));\n        }\n      }\n\n      this._startIndex = startIndex;\n      this._stopIndex = stopIndex;\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Masonry', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({\n          boxSizing: 'border-box',\n          direction: 'ltr',\n          height: autoHeight ? 'auto' : height,\n          overflowX: 'hidden',\n          overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',\n          position: 'relative',\n          width: width,\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform'\n        }, style),\n        tabIndex: tabIndex\n      }, React.createElement(\"div\", {\n        className: \"ReactVirtualized__Masonry__innerScrollContainer\",\n        style: {\n          width: '100%',\n          height: estimateTotalHeight,\n          maxWidth: '100%',\n          maxHeight: estimateTotalHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }\n      }, children));\n    }\n  }, {\n    key: \"_checkInvalidateOnUpdate\",\n    value: function _checkInvalidateOnUpdate() {\n      if (typeof this._invalidateOnUpdateStartIndex === 'number') {\n        var startIndex = this._invalidateOnUpdateStartIndex;\n        var stopIndex = this._invalidateOnUpdateStopIndex;\n        this._invalidateOnUpdateStartIndex = null;\n        this._invalidateOnUpdateStopIndex = null; // Query external layout logic for position of newly-measured cells\n\n        this._populatePositionCache(startIndex, stopIndex);\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"_debounceResetIsScrolling\",\n    value: function _debounceResetIsScrolling() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n\n      this._debounceResetIsScrollingId = requestAnimationTimeout(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_getEstimatedTotalHeight\",\n    value: function _getEstimatedTotalHeight() {\n      var _this$props2 = this.props,\n          cellCount = _this$props2.cellCount,\n          cellMeasurerCache = _this$props2.cellMeasurerCache,\n          width = _this$props2.width;\n      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));\n      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);\n    }\n  }, {\n    key: \"_invokeOnScrollCallback\",\n    value: function _invokeOnScrollCallback() {\n      var _this$props3 = this.props,\n          height = _this$props3.height,\n          onScroll = _this$props3.onScroll;\n      var scrollTop = this.state.scrollTop;\n\n      if (this._onScrollMemoized !== scrollTop) {\n        onScroll({\n          clientHeight: height,\n          scrollHeight: this._getEstimatedTotalHeight(),\n          scrollTop: scrollTop\n        });\n        this._onScrollMemoized = scrollTop;\n      }\n    }\n  }, {\n    key: \"_invokeOnCellsRenderedCallback\",\n    value: function _invokeOnCellsRenderedCallback() {\n      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {\n        var onCellsRendered = this.props.onCellsRendered;\n        onCellsRendered({\n          startIndex: this._startIndex,\n          stopIndex: this._stopIndex\n        });\n        this._startIndexMemoized = this._startIndex;\n        this._stopIndexMemoized = this._stopIndex;\n      }\n    }\n  }, {\n    key: \"_populatePositionCache\",\n    value: function _populatePositionCache(startIndex, stopIndex) {\n      var _this$props4 = this.props,\n          cellMeasurerCache = _this$props4.cellMeasurerCache,\n          cellPositioner = _this$props4.cellPositioner;\n\n      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {\n        var _cellPositioner = cellPositioner(_index2),\n            left = _cellPositioner.left,\n            top = _cellPositioner.top;\n\n        this._positionCache.setPosition(_index2, left, top, cellMeasurerCache.getHeight(_index2));\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {\n        return {\n          isScrolling: true,\n          scrollTop: nextProps.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Masonry;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"autoHeight\": PropTypes.bool.isRequired,\n  \"cellCount\": PropTypes.number.isRequired,\n  \"cellMeasurerCache\": function cellMeasurerCache() {\n    return (typeof CellMeasurerCache === \"function\" ? PropTypes.instanceOf(CellMeasurerCache).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellPositioner\": function cellPositioner() {\n    return (typeof Positioner === \"function\" ? PropTypes.instanceOf(Positioner).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof CellRenderer === \"function\" ? PropTypes.instanceOf(CellRenderer).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"className\": PropTypes.string,\n  \"height\": PropTypes.number.isRequired,\n  \"id\": PropTypes.string,\n  \"keyMapper\": function keyMapper() {\n    return (typeof KeyMapper === \"function\" ? PropTypes.instanceOf(KeyMapper).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"onCellsRendered\": function onCellsRendered() {\n    return (typeof OnCellsRenderedCallback === \"function\" ? PropTypes.instanceOf(OnCellsRenderedCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"onScroll\": function onScroll() {\n    return (typeof OnScrollCallback === \"function\" ? PropTypes.instanceOf(OnScrollCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"overscanByPixels\": PropTypes.number.isRequired,\n  \"role\": PropTypes.string.isRequired,\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n  \"style\": function style(props, propName, componentName) {\n    if (!Object.prototype.hasOwnProperty.call(props, propName)) {\n      throw new Error(\"Prop `\".concat(propName, \"` has type 'any' or 'mixed', but was not provided to `\").concat(componentName, \"`. Pass undefined or any other value.\"));\n    }\n  },\n  \"tabIndex\": PropTypes.number.isRequired,\n  \"width\": PropTypes.number.isRequired,\n  \"rowDirection\": PropTypes.string.isRequired,\n  \"scrollTop\": PropTypes.number\n}), _temp);\n\n_defineProperty(Masonry, \"defaultProps\", {\n  autoHeight: false,\n  keyMapper: identity,\n  onCellsRendered: noop,\n  onScroll: noop,\n  overscanByPixels: 20,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  style: emptyObject,\n  tabIndex: 0,\n  rowDirection: 'ltr'\n});\n\nfunction identity(value) {\n  return value;\n}\n\nfunction noop() {}\n\nvar bpfrpt_proptype_CellMeasurerCache = process.env.NODE_ENV === 'production' ? null : {\n  \"defaultHeight\": PropTypes.number.isRequired,\n  \"defaultWidth\": PropTypes.number.isRequired,\n  \"getHeight\": PropTypes.func.isRequired,\n  \"getWidth\": PropTypes.func.isRequired\n};\npolyfill(Masonry);\nexport default Masonry;\nvar bpfrpt_proptype_Positioner = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_CellMeasurerCache };\nexport { bpfrpt_proptype_Positioner };","map":{"version":3,"sources":["/Users/jan/Documents/filen/app/node_modules/react-virtualized/dist/es/Masonry/Masonry.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_defineProperty","_class","_temp","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","clsx","React","polyfill","PositionCache","requestAnimationTimeout","cancelAnimationTimeout","emptyObject","DEFAULT_SCROLLING_RESET_TIME_INTERVAL","Masonry","_React$PureComponent","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","isScrolling","scrollTop","setState","ref","_scrollingContainer","event","height","props","eventScrollTop","currentTarget","Math","min","max","_getEstimatedTotalHeight","_debounceResetIsScrolling","state","value","clearCellPositions","_positionCache","forceUpdate","invalidateCellSizeAfterRender","_ref","index","rowIndex","_invalidateOnUpdateStartIndex","_invalidateOnUpdateStopIndex","recomputeCellPositions","stopIndex","count","_populatePositionCache","componentDidMount","_checkInvalidateOnUpdate","_invokeOnScrollCallback","_invokeOnCellsRenderedCallback","componentDidUpdate","prevProps","prevState","componentWillUnmount","_debounceResetIsScrollingId","render","_this2","_this$props","autoHeight","cellCount","cellMeasurerCache","cellRenderer","className","id","keyMapper","overscanByPixels","role","style","tabIndex","width","rowDirection","_this$state","children","estimateTotalHeight","shortestColumnSize","measuredCellCount","startIndex","range","left","top","_style","parent","getHeight","getWidth","batchSize","ceil","defaultHeight","defaultWidth","_index","_startIndex","_stopIndex","createElement","_setScrollingContainerRef","onScroll","_onScroll","boxSizing","direction","overflowX","overflowY","position","WebkitOverflowScrolling","willChange","maxWidth","maxHeight","overflow","pointerEvents","scrollingResetTimeInterval","_debounceResetIsScrollingCallback","_this$props2","estimatedColumnCount","floor","_this$props3","_onScrollMemoized","clientHeight","scrollHeight","_startIndexMemoized","_stopIndexMemoized","onCellsRendered","_this$props4","cellPositioner","_index2","_cellPositioner","setPosition","getDerivedStateFromProps","nextProps","undefined","PureComponent","process","env","NODE_ENV","PropTypes","bool","isRequired","number","CellMeasurerCache","instanceOf","any","Positioner","CellRenderer","string","KeyMapper","OnCellsRenderedCallback","OnScrollCallback","propName","componentName","prototype","hasOwnProperty","Error","identity","noop","bpfrpt_proptype_CellMeasurerCache","func","bpfrpt_proptype_Positioner","bpfrpt_proptype_AnimationTimeoutId"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PositionCache from './PositionCache';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\nvar emptyObject = {};\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * This component efficiently displays arbitrarily positioned cells using windowing techniques.\n * Cell position is determined by an injected `cellPositioner` property.\n * Windowing is vertical; this component does not support horizontal scrolling.\n *\n * Rendering occurs in two phases:\n * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.\n *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.\n *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells\n *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).\n *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.\n * 2) Second pass uses the external `cellPositioner` to layout cells.\n *    At this time the positioner has access to cached size measurements for all cells.\n *    The positions it returns are cached by Masonry for fast access later.\n *    Phase one is repeated if the user scrolls beyond the current layout's bounds.\n *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.\n *\n * Animation constraints:\n *   Simple animations are supported (eg translate/slide into place on initial reveal).\n *   More complex animations are not (eg flying from one position to another on resize).\n *\n * Layout constraints:\n *   This component supports multi-column layout.\n *   The height of each item may vary.\n *   The width of each item must not exceed the width of the column it is \"in\".\n *   The left position of all items within a column must align.\n *   (Items may not span multiple columns.)\n */\n\nvar Masonry = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Masonry, _React$PureComponent);\n\n  function Masonry() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Masonry);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Masonry)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStartIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionCache\", new PositionCache());\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingCallback\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      var height = _this.props.height;\n      var eventScrollTop = event.currentTarget.scrollTop; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop); // On iOS, we can arrive at negative offsets by swiping past the start or end.\n      // Avoid re-rendering in this case as it can cause problems; see #532 for more.\n\n      if (eventScrollTop !== scrollTop) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._debounceResetIsScrolling(); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n\n      if (_this.state.scrollTop !== scrollTop) {\n        _this.setState({\n          isScrolling: true,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Masonry, [{\n    key: \"clearCellPositions\",\n    value: function clearCellPositions() {\n      this._positionCache = new PositionCache();\n      this.forceUpdate();\n    } // HACK This method signature was intended for Grid\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref) {\n      var index = _ref.rowIndex;\n\n      if (this._invalidateOnUpdateStartIndex === null) {\n        this._invalidateOnUpdateStartIndex = index;\n        this._invalidateOnUpdateStopIndex = index;\n      } else {\n        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);\n        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);\n      }\n    }\n  }, {\n    key: \"recomputeCellPositions\",\n    value: function recomputeCellPositions() {\n      var stopIndex = this._positionCache.count - 1;\n      this._positionCache = new PositionCache();\n\n      this._populatePositionCache(0, stopIndex);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n\n      if (this.props.scrollTop !== prevProps.scrollTop) {\n        this._debounceResetIsScrolling();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          cellCount = _this$props.cellCount,\n          cellMeasurerCache = _this$props.cellMeasurerCache,\n          cellRenderer = _this$props.cellRenderer,\n          className = _this$props.className,\n          height = _this$props.height,\n          id = _this$props.id,\n          keyMapper = _this$props.keyMapper,\n          overscanByPixels = _this$props.overscanByPixels,\n          role = _this$props.role,\n          style = _this$props.style,\n          tabIndex = _this$props.tabIndex,\n          width = _this$props.width,\n          rowDirection = _this$props.rowDirection;\n      var _this$state = this.state,\n          isScrolling = _this$state.isScrolling,\n          scrollTop = _this$state.scrollTop;\n      var children = [];\n\n      var estimateTotalHeight = this._getEstimatedTotalHeight();\n\n      var shortestColumnSize = this._positionCache.shortestColumnSize;\n      var measuredCellCount = this._positionCache.count;\n      var startIndex = 0;\n      var stopIndex;\n\n      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {\n        var _style;\n\n        if (typeof stopIndex === 'undefined') {\n          startIndex = index;\n          stopIndex = index;\n        } else {\n          startIndex = Math.min(startIndex, index);\n          stopIndex = Math.max(stopIndex, index);\n        }\n\n        children.push(cellRenderer({\n          index: index,\n          isScrolling: isScrolling,\n          key: keyMapper(index),\n          parent: _this2,\n          style: (_style = {\n            height: cellMeasurerCache.getHeight(index)\n          }, _defineProperty(_style, rowDirection === 'ltr' ? 'left' : 'right', left), _defineProperty(_style, \"position\", 'absolute'), _defineProperty(_style, \"top\", top), _defineProperty(_style, \"width\", cellMeasurerCache.getWidth(index)), _style)\n        }));\n      }); // We need to measure additional cells for this layout\n\n\n      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {\n        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));\n\n        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {\n          stopIndex = _index;\n          children.push(cellRenderer({\n            index: _index,\n            isScrolling: isScrolling,\n            key: keyMapper(_index),\n            parent: this,\n            style: {\n              width: cellMeasurerCache.getWidth(_index)\n            }\n          }));\n        }\n      }\n\n      this._startIndex = startIndex;\n      this._stopIndex = stopIndex;\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Masonry', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({\n          boxSizing: 'border-box',\n          direction: 'ltr',\n          height: autoHeight ? 'auto' : height,\n          overflowX: 'hidden',\n          overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',\n          position: 'relative',\n          width: width,\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform'\n        }, style),\n        tabIndex: tabIndex\n      }, React.createElement(\"div\", {\n        className: \"ReactVirtualized__Masonry__innerScrollContainer\",\n        style: {\n          width: '100%',\n          height: estimateTotalHeight,\n          maxWidth: '100%',\n          maxHeight: estimateTotalHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }\n      }, children));\n    }\n  }, {\n    key: \"_checkInvalidateOnUpdate\",\n    value: function _checkInvalidateOnUpdate() {\n      if (typeof this._invalidateOnUpdateStartIndex === 'number') {\n        var startIndex = this._invalidateOnUpdateStartIndex;\n        var stopIndex = this._invalidateOnUpdateStopIndex;\n        this._invalidateOnUpdateStartIndex = null;\n        this._invalidateOnUpdateStopIndex = null; // Query external layout logic for position of newly-measured cells\n\n        this._populatePositionCache(startIndex, stopIndex);\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"_debounceResetIsScrolling\",\n    value: function _debounceResetIsScrolling() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n\n      this._debounceResetIsScrollingId = requestAnimationTimeout(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_getEstimatedTotalHeight\",\n    value: function _getEstimatedTotalHeight() {\n      var _this$props2 = this.props,\n          cellCount = _this$props2.cellCount,\n          cellMeasurerCache = _this$props2.cellMeasurerCache,\n          width = _this$props2.width;\n      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));\n      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);\n    }\n  }, {\n    key: \"_invokeOnScrollCallback\",\n    value: function _invokeOnScrollCallback() {\n      var _this$props3 = this.props,\n          height = _this$props3.height,\n          onScroll = _this$props3.onScroll;\n      var scrollTop = this.state.scrollTop;\n\n      if (this._onScrollMemoized !== scrollTop) {\n        onScroll({\n          clientHeight: height,\n          scrollHeight: this._getEstimatedTotalHeight(),\n          scrollTop: scrollTop\n        });\n        this._onScrollMemoized = scrollTop;\n      }\n    }\n  }, {\n    key: \"_invokeOnCellsRenderedCallback\",\n    value: function _invokeOnCellsRenderedCallback() {\n      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {\n        var onCellsRendered = this.props.onCellsRendered;\n        onCellsRendered({\n          startIndex: this._startIndex,\n          stopIndex: this._stopIndex\n        });\n        this._startIndexMemoized = this._startIndex;\n        this._stopIndexMemoized = this._stopIndex;\n      }\n    }\n  }, {\n    key: \"_populatePositionCache\",\n    value: function _populatePositionCache(startIndex, stopIndex) {\n      var _this$props4 = this.props,\n          cellMeasurerCache = _this$props4.cellMeasurerCache,\n          cellPositioner = _this$props4.cellPositioner;\n\n      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {\n        var _cellPositioner = cellPositioner(_index2),\n            left = _cellPositioner.left,\n            top = _cellPositioner.top;\n\n        this._positionCache.setPosition(_index2, left, top, cellMeasurerCache.getHeight(_index2));\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {\n        return {\n          isScrolling: true,\n          scrollTop: nextProps.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Masonry;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"autoHeight\": PropTypes.bool.isRequired,\n  \"cellCount\": PropTypes.number.isRequired,\n  \"cellMeasurerCache\": function cellMeasurerCache() {\n    return (typeof CellMeasurerCache === \"function\" ? PropTypes.instanceOf(CellMeasurerCache).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellPositioner\": function cellPositioner() {\n    return (typeof Positioner === \"function\" ? PropTypes.instanceOf(Positioner).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof CellRenderer === \"function\" ? PropTypes.instanceOf(CellRenderer).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"className\": PropTypes.string,\n  \"height\": PropTypes.number.isRequired,\n  \"id\": PropTypes.string,\n  \"keyMapper\": function keyMapper() {\n    return (typeof KeyMapper === \"function\" ? PropTypes.instanceOf(KeyMapper).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"onCellsRendered\": function onCellsRendered() {\n    return (typeof OnCellsRenderedCallback === \"function\" ? PropTypes.instanceOf(OnCellsRenderedCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"onScroll\": function onScroll() {\n    return (typeof OnScrollCallback === \"function\" ? PropTypes.instanceOf(OnScrollCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"overscanByPixels\": PropTypes.number.isRequired,\n  \"role\": PropTypes.string.isRequired,\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n  \"style\": function style(props, propName, componentName) {\n    if (!Object.prototype.hasOwnProperty.call(props, propName)) {\n      throw new Error(\"Prop `\".concat(propName, \"` has type 'any' or 'mixed', but was not provided to `\").concat(componentName, \"`. Pass undefined or any other value.\"));\n    }\n  },\n  \"tabIndex\": PropTypes.number.isRequired,\n  \"width\": PropTypes.number.isRequired,\n  \"rowDirection\": PropTypes.string.isRequired,\n  \"scrollTop\": PropTypes.number\n}), _temp);\n\n_defineProperty(Masonry, \"defaultProps\", {\n  autoHeight: false,\n  keyMapper: identity,\n  onCellsRendered: noop,\n  onScroll: noop,\n  overscanByPixels: 20,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  style: emptyObject,\n  tabIndex: 0,\n  rowDirection: 'ltr'\n});\n\nfunction identity(value) {\n  return value;\n}\n\nfunction noop() {}\n\nvar bpfrpt_proptype_CellMeasurerCache = process.env.NODE_ENV === 'production' ? null : {\n  \"defaultHeight\": PropTypes.number.isRequired,\n  \"defaultWidth\": PropTypes.number.isRequired,\n  \"getHeight\": PropTypes.func.isRequired,\n  \"getWidth\": PropTypes.func.isRequired\n};\npolyfill(Masonry);\nexport default Masonry;\nvar bpfrpt_proptype_Positioner = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_CellMeasurerCache };\nexport { bpfrpt_proptype_Positioner };"]},"metadata":{},"sourceType":"module"}