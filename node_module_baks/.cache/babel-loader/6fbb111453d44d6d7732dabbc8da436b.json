{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { r as registerInstance, e as createEvent, c as writeTask, f as readTask, h, i as getElement, H as Host } from \"./index-e806d1f6.js\";\nimport { b as getIonMode, c as config } from \"./ionic-global-9d5c8ee3.js\";\nimport { s as sanitizeDOMString } from \"./index-9e3fe806.js\";\nvar infiniteScrollCss = \"ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}\";\n\nvar InfiniteScroll = function () {\n  function i(i) {\n    var n = this;\n    registerInstance(this, i);\n    this.ionInfinite = createEvent(this, \"ionInfinite\", 7);\n    this.thrPx = 0;\n    this.thrPc = 0;\n    this.didFire = false;\n    this.isBusy = false;\n    this.isLoading = false;\n    this.threshold = \"15%\";\n    this.disabled = false;\n    this.position = \"bottom\";\n\n    this.onScroll = function () {\n      var i = n.scrollEl;\n\n      if (!i || !n.canStart()) {\n        return 1;\n      }\n\n      var e = n.el.offsetHeight;\n\n      if (e === 0) {\n        return 2;\n      }\n\n      var t = i.scrollTop;\n      var r = i.scrollHeight;\n      var o = i.offsetHeight;\n      var s = n.thrPc !== 0 ? o * n.thrPc : n.thrPx;\n      var l = n.position === \"bottom\" ? r - e - t - s - o : t - e - s;\n\n      if (l < 0) {\n        if (!n.didFire) {\n          n.isLoading = true;\n          n.didFire = true;\n          n.ionInfinite.emit();\n          return 3;\n        }\n      } else {\n        n.didFire = false;\n      }\n\n      return 4;\n    };\n  }\n\n  i.prototype.thresholdChanged = function () {\n    var i = this.threshold;\n\n    if (i.lastIndexOf(\"%\") > -1) {\n      this.thrPx = 0;\n      this.thrPc = parseFloat(i) / 100;\n    } else {\n      this.thrPx = parseFloat(i);\n      this.thrPc = 0;\n    }\n  };\n\n  i.prototype.disabledChanged = function () {\n    var i = this.disabled;\n\n    if (i) {\n      this.isLoading = false;\n      this.isBusy = false;\n    }\n\n    this.enableScrollEvents(!i);\n  };\n\n  i.prototype.connectedCallback = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var i, n;\n      var e = this;\n      return __generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            i = this.el.closest(\"ion-content\");\n\n            if (!i) {\n              console.error(\"<ion-infinite-scroll> must be used inside an <ion-content>\");\n              return [2];\n            }\n\n            n = this;\n            return [4, i.getScrollElement()];\n\n          case 1:\n            n.scrollEl = t.sent();\n            this.thresholdChanged();\n            this.disabledChanged();\n\n            if (this.position === \"top\") {\n              writeTask(function () {\n                if (e.scrollEl) {\n                  e.scrollEl.scrollTop = e.scrollEl.scrollHeight - e.scrollEl.clientHeight;\n                }\n              });\n            }\n\n            return [2];\n        }\n      });\n    });\n  };\n\n  i.prototype.disconnectedCallback = function () {\n    this.enableScrollEvents(false);\n    this.scrollEl = undefined;\n  };\n\n  i.prototype.complete = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var i, n;\n      var e = this;\n      return __generator(this, function (t) {\n        i = this.scrollEl;\n\n        if (!this.isLoading || !i) {\n          return [2];\n        }\n\n        this.isLoading = false;\n\n        if (this.position === \"top\") {\n          this.isBusy = true;\n          n = i.scrollHeight - i.scrollTop;\n          requestAnimationFrame(function () {\n            readTask(function () {\n              var t = i.scrollHeight;\n              var r = t - n;\n              requestAnimationFrame(function () {\n                writeTask(function () {\n                  i.scrollTop = r;\n                  e.isBusy = false;\n                });\n              });\n            });\n          });\n        }\n\n        return [2];\n      });\n    });\n  };\n\n  i.prototype.canStart = function () {\n    return !this.disabled && !this.isBusy && !!this.scrollEl && !this.isLoading;\n  };\n\n  i.prototype.enableScrollEvents = function (i) {\n    if (this.scrollEl) {\n      if (i) {\n        this.scrollEl.addEventListener(\"scroll\", this.onScroll);\n      } else {\n        this.scrollEl.removeEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  };\n\n  i.prototype.render = function () {\n    var i;\n    var n = getIonMode(this);\n    var e = this.disabled;\n    return h(Host, {\n      class: (i = {}, i[n] = true, i[\"infinite-scroll-loading\"] = this.isLoading, i[\"infinite-scroll-enabled\"] = !e, i)\n    });\n  };\n\n  Object.defineProperty(i.prototype, \"el\", {\n    get: function () {\n      return getElement(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(i, \"watchers\", {\n    get: function () {\n      return {\n        threshold: [\"thresholdChanged\"],\n        disabled: [\"disabledChanged\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return i;\n}();\n\nInfiniteScroll.style = infiniteScrollCss;\nvar infiniteScrollContentIosCss = \"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";\nvar infiniteScrollContentMdCss = \"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";\n\nvar InfiniteScrollContent = function () {\n  function i(i) {\n    registerInstance(this, i);\n  }\n\n  i.prototype.componentDidLoad = function () {\n    if (this.loadingSpinner === undefined) {\n      var i = getIonMode(this);\n      this.loadingSpinner = config.get(\"infiniteLoadingSpinner\", config.get(\"spinner\", i === \"ios\" ? \"lines\" : \"crescent\"));\n    }\n  };\n\n  i.prototype.render = function () {\n    var i;\n    var n = getIonMode(this);\n    return h(Host, {\n      class: (i = {}, i[n] = true, i[\"infinite-scroll-content-\" + n] = true, i)\n    }, h(\"div\", {\n      class: \"infinite-loading\"\n    }, this.loadingSpinner && h(\"div\", {\n      class: \"infinite-loading-spinner\"\n    }, h(\"ion-spinner\", {\n      name: this.loadingSpinner\n    })), this.loadingText && h(\"div\", {\n      class: \"infinite-loading-text\",\n      innerHTML: sanitizeDOMString(this.loadingText)\n    })));\n  };\n\n  return i;\n}();\n\nInfiniteScrollContent.style = {\n  ios: infiniteScrollContentIosCss,\n  md: infiniteScrollContentMdCss\n};\nexport { InfiniteScroll as ion_infinite_scroll, InfiniteScrollContent as ion_infinite_scroll_content };","map":{"version":3,"sources":["/Users/jan/Documents/filen/app/node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2.entry.js"],"names":["__awaiter","__generator","r","registerInstance","e","createEvent","c","writeTask","f","readTask","h","i","getElement","H","Host","b","getIonMode","config","s","sanitizeDOMString","infiniteScrollCss","InfiniteScroll","n","ionInfinite","thrPx","thrPc","didFire","isBusy","isLoading","threshold","disabled","position","onScroll","scrollEl","canStart","el","offsetHeight","t","scrollTop","scrollHeight","o","l","emit","prototype","thresholdChanged","lastIndexOf","parseFloat","disabledChanged","enableScrollEvents","connectedCallback","label","closest","console","error","getScrollElement","sent","clientHeight","disconnectedCallback","undefined","complete","requestAnimationFrame","addEventListener","removeEventListener","render","class","Object","defineProperty","get","enumerable","configurable","style","infiniteScrollContentIosCss","infiniteScrollContentMdCss","InfiniteScrollContent","componentDidLoad","loadingSpinner","name","loadingText","innerHTML","ios","md","ion_infinite_scroll","ion_infinite_scroll_content"],"mappings":"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","sourcesContent":["import{__awaiter,__generator}from\"tslib\";import{r as registerInstance,e as createEvent,c as writeTask,f as readTask,h,i as getElement,H as Host}from\"./index-e806d1f6.js\";import{b as getIonMode,c as config}from\"./ionic-global-9d5c8ee3.js\";import{s as sanitizeDOMString}from\"./index-9e3fe806.js\";var infiniteScrollCss=\"ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}\";var InfiniteScroll=function(){function i(i){var n=this;registerInstance(this,i);this.ionInfinite=createEvent(this,\"ionInfinite\",7);this.thrPx=0;this.thrPc=0;this.didFire=false;this.isBusy=false;this.isLoading=false;this.threshold=\"15%\";this.disabled=false;this.position=\"bottom\";this.onScroll=function(){var i=n.scrollEl;if(!i||!n.canStart()){return 1}var e=n.el.offsetHeight;if(e===0){return 2}var t=i.scrollTop;var r=i.scrollHeight;var o=i.offsetHeight;var s=n.thrPc!==0?o*n.thrPc:n.thrPx;var l=n.position===\"bottom\"?r-e-t-s-o:t-e-s;if(l<0){if(!n.didFire){n.isLoading=true;n.didFire=true;n.ionInfinite.emit();return 3}}else{n.didFire=false}return 4}}i.prototype.thresholdChanged=function(){var i=this.threshold;if(i.lastIndexOf(\"%\")>-1){this.thrPx=0;this.thrPc=parseFloat(i)/100}else{this.thrPx=parseFloat(i);this.thrPc=0}};i.prototype.disabledChanged=function(){var i=this.disabled;if(i){this.isLoading=false;this.isBusy=false}this.enableScrollEvents(!i)};i.prototype.connectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var i,n;var e=this;return __generator(this,(function(t){switch(t.label){case 0:i=this.el.closest(\"ion-content\");if(!i){console.error(\"<ion-infinite-scroll> must be used inside an <ion-content>\");return[2]}n=this;return[4,i.getScrollElement()];case 1:n.scrollEl=t.sent();this.thresholdChanged();this.disabledChanged();if(this.position===\"top\"){writeTask((function(){if(e.scrollEl){e.scrollEl.scrollTop=e.scrollEl.scrollHeight-e.scrollEl.clientHeight}}))}return[2]}}))}))};i.prototype.disconnectedCallback=function(){this.enableScrollEvents(false);this.scrollEl=undefined};i.prototype.complete=function(){return __awaiter(this,void 0,void 0,(function(){var i,n;var e=this;return __generator(this,(function(t){i=this.scrollEl;if(!this.isLoading||!i){return[2]}this.isLoading=false;if(this.position===\"top\"){this.isBusy=true;n=i.scrollHeight-i.scrollTop;requestAnimationFrame((function(){readTask((function(){var t=i.scrollHeight;var r=t-n;requestAnimationFrame((function(){writeTask((function(){i.scrollTop=r;e.isBusy=false}))}))}))}))}return[2]}))}))};i.prototype.canStart=function(){return!this.disabled&&!this.isBusy&&!!this.scrollEl&&!this.isLoading};i.prototype.enableScrollEvents=function(i){if(this.scrollEl){if(i){this.scrollEl.addEventListener(\"scroll\",this.onScroll)}else{this.scrollEl.removeEventListener(\"scroll\",this.onScroll)}}};i.prototype.render=function(){var i;var n=getIonMode(this);var e=this.disabled;return h(Host,{class:(i={},i[n]=true,i[\"infinite-scroll-loading\"]=this.isLoading,i[\"infinite-scroll-enabled\"]=!e,i)})};Object.defineProperty(i.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(i,\"watchers\",{get:function(){return{threshold:[\"thresholdChanged\"],disabled:[\"disabledChanged\"]}},enumerable:false,configurable:true});return i}();InfiniteScroll.style=infiniteScrollCss;var infiniteScrollContentIosCss=\"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";var infiniteScrollContentMdCss=\"ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}\";var InfiniteScrollContent=function(){function i(i){registerInstance(this,i)}i.prototype.componentDidLoad=function(){if(this.loadingSpinner===undefined){var i=getIonMode(this);this.loadingSpinner=config.get(\"infiniteLoadingSpinner\",config.get(\"spinner\",i===\"ios\"?\"lines\":\"crescent\"))}};i.prototype.render=function(){var i;var n=getIonMode(this);return h(Host,{class:(i={},i[n]=true,i[\"infinite-scroll-content-\"+n]=true,i)},h(\"div\",{class:\"infinite-loading\"},this.loadingSpinner&&h(\"div\",{class:\"infinite-loading-spinner\"},h(\"ion-spinner\",{name:this.loadingSpinner})),this.loadingText&&h(\"div\",{class:\"infinite-loading-text\",innerHTML:sanitizeDOMString(this.loadingText)})))};return i}();InfiniteScrollContent.style={ios:infiniteScrollContentIosCss,md:infiniteScrollContentMdCss};export{InfiniteScroll as ion_infinite_scroll,InfiniteScrollContent as ion_infinite_scroll_content};"]},"metadata":{},"sourceType":"module"}