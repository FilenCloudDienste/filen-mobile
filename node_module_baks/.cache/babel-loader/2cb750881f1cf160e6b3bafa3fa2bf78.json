{"ast":null,"code":"import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";","map":{"version":3,"sources":["/Users/jan/Documents/filen/app/node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js"],"names":["requestAnimationTimeout","cancelAnimationTimeout","mountedInstances","originalBodyPointerEvents","disablePointerEventsTimeoutId","enablePointerEventsIfDisabled","document","body","style","pointerEvents","enablePointerEventsAfterDelayCallback","forEach","instance","__resetIsScrolling","enablePointerEventsAfterDelay","maximumTimeout","Math","max","props","scrollingResetTimeInterval","onScrollWindow","event","currentTarget","window","scrollElement","__handleWindowScrollEvent","registerScrollListener","component","element","some","addEventListener","push","unregisterScrollListener","filter","length","removeEventListener","bpfrpt_proptype_WindowScroller"],"mappings":"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","sourcesContent":["import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";"]},"metadata":{},"sourceType":"module"}